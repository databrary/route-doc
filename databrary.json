{  
   "swagger":"2.0",
   "info":{  
      "description":"This documents Databrary's internal routes, using ReDoc",
      "version":"1.0.0",
      "title":"Databrary Internal Route Documentation",
   },
   "tags":[  
      {  
         "name":"login/register",
         "description":"user"
      },
      {  
         "name":"party",
         "description":"user"
      },
      {  
         "name":"volume",
         "description":"project"
      }
   ],
   "schemes":[  
      "https",
      "http"
   ],
   "paths":{  
      "/api/register":{
         "post":{
            "tags":[  
               "login/register"
            ],
            "summary":"Post registrant's info",
            "description":"Post registrant's info",
            "operationId":"postRegister",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post registrant",
                  "required":true,
                  "schema":{  
                     "$ref":"#/definitions/registrant"
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "type":"string",
                     "example":"Your confirmation email has been sent to 'jsmith@university.edu'."
                  },
                  "produces":[
                     "text/plain"
                  ]
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/user/login":{
         "post":{
            "tags":[  
               "login/register"
            ],
            "summary":"Post user's login info",
            "description":"Post user's login info",
            "operationId":"postLogin",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post user login",
                  "required":true,
                  "schema":{  
                     "$ref":"#/definitions/userlogin"
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{   
                     "$ref":"#/definitions/user"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/user":{
         "get":{
            "tags":[  
               "login/register"
            ],
            "summary":"Get user info",
            "description":"Get user info",
            "operationId":"getUser",
            "produces":[  
               "application/json"
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{   
                     "$ref":"#/definitions/user"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         },
         "post":{
            "tags":[  
               "login/register"
            ],
            "summary":"Post user info",
            "description":"Post user info",
            "operationId":"postUser",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post user",
                  "required":true,
                  "schema":{  
                     "$ref":"#/definitions/postuser"
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{   
                     "$ref":"#/definitions/user"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/user/password":{
         "post":{
            "tags":[  
               "login/register"
            ],
            "summary":"Post password reset request",
            "description":"Post password reset request",
            "operationId":"postPasswordReset",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post password reset email",
                  "required":true,
                  "schema":{  
                     "type":"object",
                     "properties":{  
                        "email":{  
                           "type":"string",
                           "example":"jsmith@university.edu"
                        }
                     }
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "type":"string",
                     "example":"Your password reset information has been sent to 'jsmith@university.edu'."
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/user/logout":{
         "post":{
            "tags":[  
               "login/register"
            ],
            "summary":"Post logout",
            "description":"Post logout",
            "operationId":"postLogout",
            "produces":[  
               "application/json"
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{   
                     "$ref":"#/definitions/userlogout"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/profile":{
         "get":{
            "tags":[  
               "party"
            ],
            "summary":"Get user profile",
            "description":"Get user profile",
            "operationId":"getProfile",
            "produces":[  
               "application/json"
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{   
                     "$ref":"#/definitions/profile",
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/party":{  
         "get":{  
            "tags":[  
               "party"
            ],
            "summary":"Get all parties",
            "description":"Return all parties",
            "operationId":"getParties",
            "produces":[  
               "application/json"
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "type":"array",
                     "items":{  
                        "$ref":"#/definitions/party"
                     }
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/party/{partyid}":{  
         "get":{  
            "tags":[  
               "party"
            ],
            "summary":"Find party by Id",
            "description":"Return a party by ID",
            "operationId":"getParty",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"partyid",
                  "in":"path",
                  "description":"ID of the party",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/getparty"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         },
         "post":{  
            "tags":[  
               "party"
            ],
            "summary":"Post party info by Id",
            "description":"Post party info by ID",
            "operationId":"postParty",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"partyid",
                  "in":"path",
                  "description":"ID of the party",
                  "required":true,
                  "type":"string"
               },
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post party info",
                  "required":true,
                  "schema":{  
                     "type":"object",
                     "properties":{  
                        "affiliation":{  
                           "type":"string",
                           "example":"jsmith@university.edu"
                        },
                        "prename":{  
                           "type":"string",
                           "example":"Jane"
                        },
                        "sortname":{  
                           "type":"string",
                           "example":"Smith",
                           "description":"Last name"
                        }
                     }
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/profile"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/party/{partyid}/authorize/{affiliateid}":{  
         "post":{  
            "tags":[  
               "party"
            ],
            "summary":"Post affiliate authorization by Id",
            "description":"Post affiliate authorization by ID",
            "operationId":"postAuthorize",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"partyid",
                  "in":"path",
                  "description":"ID of the party",
                  "required":true,
                  "type":"string"
               },
               {  
                  "name":"affiliateid",
                  "in":"path",
                  "description":"ID of the affiliate",
                  "required":true,
                  "type":"string"
               },
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post authorization of affiliate",
                  "required":true,
                  "schema":{  
                     "type":"object",
                     "properties":{  
                        "expires":{  
                           "type":"string",
                           "example":"2020-07-09"
                        },
                        "member":{  
                           "type":"integer",
                           "example":"2"
                        },
                        "site":{  
                           "type":"integer",
                           "example":"3"
                        }
                     }
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/authorizeaffiliate"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         },
         "delete":{  
            "tags":[  
               "party"
            ],
            "summary":"Delete affiliate authorization by Id",
            "description":"Delete affiliate authorization by ID",
            "operationId":"deleteAuthorize",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"partyid",
                  "in":"path",
                  "description":"ID of the party",
                  "required":true,
                  "type":"string"
               },
               {  
                  "name":"affiliateid",
                  "in":"path",
                  "description":"ID of the affiliate",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/affiliate"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/volume":{  
         "get":{  
            "tags":[  
               "volume"
            ],
            "summary":"Get all volumes",
            "description":"Return all volumes",
            "operationId":"getVolumes",
            "produces":[  
               "application/json"
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "type":"array",
                     "items":{  
                        "$ref":"#/definitions/volume"
                     }
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         },
         "post":{  
            "tags":[  
               "volume"
            ],
            "summary":"Create volume",
            "description":"Create volume",
            "operationId":"createVolume",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Create volume",
                  "required":true,
                  "schema":{  
                     "$ref":"#/definitions/createvolume"
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "type":"array",
                     "items":{  
                        "$ref":"#/definitions/postvolumeresult"
                     }
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      },
      "/api/volume/{volumeid}":{  
         "get":{  
            "tags":[  
               "volume"
            ],
            "summary":"Find volume by Id",
            "description":"Return a volume by ID",
            "operationId":"getVolume",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"volumeid",
                  "in":"path",
                  "description":"ID of the volume",
                  "required":true,
                  "type":"string"
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/volume"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         },
         "post":{  
            "tags":[  
               "volume"
            ],
            "summary":"Post volume by Id",
            "description":"Post a volume by ID",
            "operationId":"postVolume",
            "produces":[  
               "application/json"
            ],
            "parameters":[  
               {  
                  "name":"volumeid",
                  "in":"path",
                  "description":"ID of the volume",
                  "required":true,
                  "type":"string"
               },
               {  
                  "in":"body",
                  "name":"body",
                  "description":"Post volume info",
                  "required":true,
                  "schema":{  
                     "$ref":"#/definitions/postvolume"
                  }
               }
            ],
            "responses":{  
               "200":{  
                  "description":"successful operation",
                  "schema":{  
                     "$ref":"#/definitions/postvolumeresult"
                  }
               },
               "400":{  
                  "description":"Error",
                  "schema":{  
                     "type":"string",
                     "example":"Something went wrong"
                  }
               }
            }
         }
      }
   },
   "securityDefinitions":{  
   },
   "definitions":{  
      "volume":{  
         "type":"object",
         "properties":{  
            "id":{  
               "type":"integer",
               "example":2
            },
            "alias":{  
               "type":"string",
               "example":"pilot"
            },
            "body":{  
               "type":"string",
               "example":"Databrary is an open data library for developmental science. Share video, audio, and related metadata."
            },
            "creation":{  
               "type":"string",
               "example":"2018-07-09T17:15:49.694977Z"
            },
            "doi":{  
               "type":"string",
               "example":"10.17910/B7159Z"
            },
            "name":{  
               "type":"string",
               "example":"Databrary"
            },
            "owners":{
               "type": "array",
               "items": {
                  "$ref":"#/definitions/owner"
               } 
            },
            "permission":{  
               "type":"integer",
               "example":5
            },
            "publicsharefull":{  
               "type":"boolean",
               "example":true
            }
         }
      },
      "postvolume":{  
         "type":"object",
         "properties":{  
            "citation":{  
               "type":"object",
               "properties":{
                  "head": {
                     "type":"string",
                     "example":""
                  }
               }
            },
            "alias":{  
               "type":"string",
               "example":"pilot"
            },
            "body":{  
               "type":"string",
               "example":"Databrary is an open data library for developmental science. Share video, audio, and related metadata."
            },
            "name":{  
               "type":"string",
               "example":"Databrary"
            },
            "published":{  
               "type":"boolean",
               "example":true
            }
         }
      },
      "createvolume":{  
         "type":"object",
         "properties":{  
            "owner":{  
               "type":"integer",
               "example":7
            },
            "citation":{  
               "type":"object",
               "properties":{
                  "head": {
                     "type":"string",
                     "example":""
                  }
               }
            },
            "body":{  
               "type":"string",
               "example":"Databrary is an open data library for developmental science. Share video, audio, and related metadata."
            },
            "name":{  
               "type":"string",
               "example":"Databrary"
            },
            "published":{  
               "type":"boolean",
               "example":true
            }
         }
      },
      "postvolumeresult":{  
         "type":"object",
         "properties":{  
            "id":{  
               "type":"integer",
               "example":2
            },
            "citation":{  
               "type":"object",
               "example":null
            },
            "body":{  
               "type":"string",
               "example":"Databrary is an open data library for developmental science. Share video, audio, and related metadata."
            },
            "creation":{  
               "type":"string",
               "example":"2018-07-09T17:15:49.694977Z"
            },
            "doi":{  
               "type":"string",
               "example":"10.17910/B7159Z"
            },
            "name":{  
               "type":"string",
               "example":"Databrary"
            },
            "owners":{
               "type": "array",
               "items": {
                  "$ref":"#/definitions/owner"
               } 
            },
            "permission":{  
               "type":"integer",
               "example":5
            },
            "publicsharefull":{  
               "type":"boolean",
               "example":true
            }
         }
      },
      "owner":{
         "type":"object",
         "properties":{ 
            "name": {
               "type":"string",
               "example":"Smith, Jane"
            },
            "id":{  
               "type":"integer",
               "example":"7"
            }
         }
      },
      "registrant":{
         "type":"object",
         "properties":{ 
            "prename": {
               "type":"string",
               "example":"Jane"
            },
            "sortname": {
               "type":"string",
               "example":"Smith",
               "description":"Last name"
            },
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "agreement":{  
               "type":"boolean"
            }
         }
      },
      "userlogin":{
         "type":"object",
         "properties":{ 
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "password":{  
               "type":"string",
               "example":"strongpassword"
            }
         }
      },
      "userlogout":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":-1
            },
            "authorization":{  
               "type":"integer",
               "example":0
            },
            "institution": {
               "type":"boolean",
               "example":true
            },
            "sortname":{  
               "type":"string",
               "example":"Nobody"
            }
         }
      },
      "getparty":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":7
            },
            "affiliation": {
               "type":"string",
               "example":"New York University"
            },
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "prename": {
               "type":"string",
               "example":"Jane"
            },
            "sortname":{  
               "type":"string",
               "example":"Smith",
               "description":"Last name"
            },
            "permission":{  
               "type":"integer",
               "example":5
            }
         }
      },
      "authorizeaffiliate": {
         "type":"object",
         "properties":{  
            "expires":{  
               "type":"string",
               "example":"2020-07-09"
            },
            "member":{  
               "type":"integer",
               "example":2
            },
            "site":{  
               "type":"integer",
               "example":3
            },
            "party":{
               "$ref":"#/definitions/affiliate"
            },
         }
      },
      "party":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":7
            },
            "affiliation": {
               "type":"string",
               "example":"New York University"
            },
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "prename": {
               "type":"string",
               "example":"Jane"
            },
            "sortname":{  
               "type":"string",
               "example":"Smith",
               "description":"Last name"
            }
         }
      },
      "affiliate":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":3
            },
            "affiliation": {
               "type":"string",
               "example":"New York University"
            },
            "email": {
               "type":"string",
               "example":"llee@university.edu"
            },
            "prename": {
               "type":"string",
               "example":"Lisa"
            },
            "sortname":{  
               "type":"string",
               "example":"Lee",
               "description":"Last name"
            }
         }
      },
      "profile":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":7
            },
            "affiliation": {
               "type":"string",
               "example":"New York University"
            },
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "prename": {
               "type":"string",
               "example":"Jane"
            },
            "permission":{  
               "type":"integer",
               "example":5
            },
            "sortname":{  
               "type":"string",
               "example":"Smith",
               "description":"Last name"
            }
         }
      },
      "postuser":{
         "type":"object",
         "properties":{ 
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "auth": {
               "type":"string",
               "example":"strongpassword",
               "description":"Old password"
            },
            "password":{
               "type":"object",
               "properties":{ 
                  "once": {
                     "type":"string",
                     "example":"newstrongpassword",
                     "description":"New password"
                  },
                  "again": {
                     "type":"string",
                     "example":"newstrongpassword",
                     "description":"New password typed in again"
                  }
               }
            }
         }
      },
      "user":{
         "type":"object",
         "properties":{ 
            "id":{  
               "type":"integer",
               "example":7
            },
            "authorization":{  
               "type":"integer",
               "example":5
            },
            "permission":{  
               "type":"integer",
               "example":5
            },
            "affiliation": {
               "type":"string",
               "example":"New York University"
            },
            "csverf":{  
               "type":"string",
               "example":"QxNXAduisOc_czDG"
            },
            "email": {
               "type":"string",
               "example":"jsmith@university.edu"
            },
            "prename": {
               "type":"string",
               "example":"Jane"
            },
            "sortname":{  
               "type":"string",
               "example":"Smith",
               "description":"Last name"
            }
         }
      }

   },
   "externalDocs":{  
      "description":"Find out more about Swagger",
      "url":"http://swagger.io"
   }
}